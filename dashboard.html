<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Dashboard • Cyber Skills</title>
  <meta name="color-scheme" content="dark" />
  <link rel="stylesheet" href="./assets/app.css" />
  <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-[#07070a] text-white min-h-screen">
  <div class="fixed inset-0 pointer-events-none overflow-hidden">
    <div class="glow glow-blue"></div>
    <div class="glow glow-red"></div>
    <div class="glow glow-brown"></div>
  </div>

  <header class="sticky top-0 z-30 backdrop-blur-xl bg-[#07070a]/70 border-b border-white/10">
    <div class="mx-auto max-w-7xl px-4 py-4 flex items-center gap-3">
      <a href="./index.html" class="flex items-center gap-3">
        <div class="h-9 w-9 rounded-xl bg-gradient-to-br from-[#0C5394] via-[#990001] to-[#5B0F00] shadow-lg"></div>
        <div>
          <div class="font-extrabold leading-tight">Dashboard</div>
          <div class="text-xs text-white/60">Import / compare / delete</div>
        </div>
      </a>

      <nav class="ml-auto flex flex-wrap items-center gap-2">
        <a class="btn" href="./survey.html">New survey</a>
        <a class="btn" href="./compare.html">Compare</a>
        <a class="btn" href="./teams.html">Teams</a>
        <button id="btnExportBackup" class="btn">Backup all (JSON)</button>
        <label class="btn cursor-pointer">
          Import JSON(s)
          <input id="fileImportMany" type="file" accept="application/json" multiple class="hidden" />
        </label>
      </nav>
    </div>
  </header>

  <main class="mx-auto max-w-7xl px-4 py-6 grid lg:grid-cols-12 gap-6">
    <aside class="lg:col-span-4 space-y-4">
      <section class="card p-5">
        <div class="flex items-center justify-between gap-3">
          <div>
            <div class="text-lg font-bold">Assessments</div>
            <div class="text-sm text-white/60">Select • compare • delete</div>
          </div>
          <button id="btnDeleteSelected" class="btn-danger" disabled>Delete selected</button>
        </div>

        <div class="mt-4">
          <div id="dropzone" class="dropzone">
            <div class="font-extrabold">Drag & drop JSON files here</div>
            <div class="text-sm text-white/60 mt-1">Or use “Import JSON(s)” button</div>
          </div>
        </div>

        <div class="mt-4">
          <div class="label">Filter by team</div>
          <select id="teamFilter" class="input">
            <option value="">All teams</option>
          </select>
        </div>

        <div class="mt-4">
          <button id="btnCompareSelected" class="btn w-full" disabled>Compare selected</button>
        </div>

        <div id="list" class="mt-4 space-y-2"></div>
      </section>
    </aside>

    <section class="lg:col-span-8 space-y-6">
      <section class="card p-5">
        <div class="flex items-center justify-between gap-3">
          <div>
            <div id="detailName" class="text-xl font-extrabold">(select an engineer)</div>
            <div id="detailMeta" class="text-sm text-white/60">—</div>
          </div>
          <div class="flex gap-2 flex-wrap">
            <a id="btnReport" class="btn" href="./report.html" aria-disabled="true">Report</a>
            <a id="btnEdit" class="btn" href="./survey.html" aria-disabled="true">Edit</a>
            <button id="btnExportOne" class="btn" disabled>Export JSON</button>
            <button id="btnDeleteOne" class="btn-danger" disabled>Delete</button>
          </div>
        </div>

        <div id="detailDomains" class="mt-4 flex flex-wrap gap-2"></div>
      </section>

      <section class="card p-5">
        <div class="text-lg font-bold">Axis summary</div>
        <div class="text-sm text-white/60">Totals are normalized to /100 even if some are N/A</div>

        <div class="mt-4 overflow-x-auto">
          <table class="min-w-full text-sm">
            <thead>
              <tr class="text-white/60">
                <th class="text-left font-semibold py-2 pr-4">Axis</th>
                <th class="text-left font-semibold py-2 pr-4">Overall</th>
                <th class="text-left font-semibold py-2 pr-4">Total</th>
                <th class="text-left font-semibold py-2 pr-4">Slices</th>
              </tr>
            </thead>
            <tbody id="detailTable"></tbody>
          </table>
        </div>
      </section>
    </section>
  </main>

  <script type="module" src="./js/dashboard.js"></script>
</body>
</html>
